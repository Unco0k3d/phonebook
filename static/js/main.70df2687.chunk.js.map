{"version":3,"sources":["components/Contacts.js","components/Search.js","components/AddContact.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Contacts","contact","remove","name","number","onClick","Search","props","type","onChange","handleSearchValue","value","search","placeholder","AddContact","onSubmit","addContact","handleNameValue","newName","required","handleNumberValue","newNumber","Notification","confirm","className","baseUrl","axios","get","then","response","data","newContactObj","post","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","searchResults","setSearchResults","setConfirm","useEffect","personsService","results","filter","p","toLowerCase","includes","e","target","preventDefault","find","window","changedContact","put","id","map","replaceNumber","returnedPerson","concat","success","setTimeout","replaceName","c","i","key","person","delete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70df2687.chunk.js","sourcesContent":["import React from 'react'\r\n// import App from '../App'\r\n\r\nconst Contacts=({contact,remove})=>{\r\n    return(\r\n        <div>\r\n            <p><b>{contact.name}</b> {contact.number}\r\n            <button onClick={remove}>delete</button></p>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Contacts","import React from 'react'\r\n\r\nexport default function Search(props){\r\n    // console.log(props)\r\n    return(\r\n        <div>\r\n            <input\r\n                type=\"text\"\r\n                onChange={props.handleSearchValue}\r\n                value={props.search}\r\n                placeholder=\"Search Contacts\"\r\n            />\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nconst AddContact=(props)=>{\r\n\r\n    return(\r\n        <form onSubmit={props.addContact}>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            onChange={props.handleNameValue}\r\n            placeholder=\"Name\"\r\n            value={props.newName}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"tel\"\r\n            onChange={props.handleNumberValue}\r\n            placeholder=\"Number\"\r\n            // pattern=\"[0-9]{7}\"\r\n            value={props.newNumber}\r\n            required\r\n          />\r\n          Format: 123-456-7890\r\n          <div>\r\n            <button type=\"submit\">Enter</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default AddContact","import React from 'react'\r\n\r\nconst Notification=({confirm})=>{\r\n    if(confirm===null)\r\n        return null\r\n\r\n    return(\r\n        <div className='confirm'>\r\n            {confirm}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/persons/'\r\n\r\nconst getAll=()=>{\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response=>response.data)\r\n}\r\nconst create=(newContactObj)=>{\r\n    const request = axios.post(baseUrl,newContactObj)\r\n    return request.then(response=>response.data)\r\n}\r\nconst updateName=(name,newContactObj)=>{\r\n    const request = axios.put(`${baseUrl}/${name}`,newContactObj)\r\n    return request.then(response=>response.data)\r\n}\r\nconst updateNumber=(number,newContactObj)=>{\r\n    const request = axios.put(`${baseUrl}/${number}`,newContactObj)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nexport default {getAll,create,updateName,updateNumber}","import React, { useState, useEffect } from \"react\";\nimport Contacts from \"./components/Contacts\";\nimport Search from './components/Search'\nimport AddContact from './components/AddContact'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\nimport axios from 'axios'\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [confirm,setConfirm]=useState(null)\n\n  useEffect(()=>{\n    personsService.getAll().then(response=>setPersons(response))\n  },[])\n\n  const handleSearchValue = (e) => setSearch(e.target.value);\n  const handleNameValue = (e) => setNewName(e.target.value);\n  const handleNumberValue = (e) => setNewNumber(e.target.value);\n  \n  const replaceNumber=(newContactObj)=>{\n    window.confirm(`${newContactObj.name} exists in your contacts. Did you want to replace the number?`)\n    const contact=persons.find(p=>p.name===newContactObj.name)\n    const changedContact={...contact, number: newNumber}\n    axios.put(`http://localhost:3001/persons/${contact.id}`,changedContact)\n      .then(response=>setPersons(persons.map(p=>p.id===contact.id?\n        response.data : p\n        )))\n  }\n  const replaceName=(newContactObj)=>{\n    window.confirm(`${newContactObj.number} exists in your contacts. Did you want to replace the name?`)\n    const contact=persons.find(p=>p.number===newContactObj.number)\n    const changedContact={...contact,name: newName}\n    axios.put(`http://localhost:3001/persons/${contact.id}`,changedContact)\n      .then(response=>setPersons(persons.map(p=>p.id===contact.id?\n        response.data : p\n        )))\n  }\n\n  const addContact = (e) => {\n    e.preventDefault();\n    const newContactObj = { name: newName, number: newNumber };\n    persons.find(\n      ({ name }) => name.toLowerCase() === newContactObj.name.toLowerCase()\n    )\n      ? replaceNumber(newContactObj)\n      : personsService\n          .create(newContactObj)\n          .then(returnedPerson=>{\n            setPersons(persons.concat(returnedPerson))\n          })\n          .then(success=>{\n            setConfirm(`${newName} has been added`)\n            setTimeout(()=>setConfirm(null),3000)\n          })\n\n    persons.find(({number})=>number === newContactObj.number)\n        ? replaceName(newContactObj)\n        : personsService\n        .create(newContactObj)\n        .then(returnedPerson=>{\n          setPersons(persons.concat(returnedPerson))\n        })\n        .then(success=>{\n          setConfirm(`${newName} has been added`)\n          setTimeout(()=>setConfirm(null),3000)\n        })\n          setNewName('')\n          setNewNumber('')\n  };\n\n  const remove=(id)=>{\n    const person = persons.find(p=>p.id===id)\n    window.confirm(`are your sure you want to throw ${person.name} out and burn them?`)\n    axios\n    .delete(`http://localhost:3001/persons/${id}`)\n    .then(setPersons(persons.filter(p=>p.id!==id)))\n  }\n\n  useEffect(() => {\n    const results = persons.filter(p=>p.name.toLowerCase().includes(search.toLowerCase()))\n    setSearchResults(results)\n  }, [search,persons]);\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Search handleSearchValue={handleSearchValue} search={search} />\n      <h2>Add Contacts</h2>\n      <Notification confirm={confirm} />\n      <AddContact addContact={addContact}\n                  handleNameValue={handleNameValue}\n                  newName={newName}\n                  handleNumberValue={handleNumberValue}\n                  newNumber={newNumber}\n                  />\n      <h2>Contacts</h2>\n      <div>\n        {searchResults.map((c, i) => (\n          <Contacts key={i} contact={c} remove={()=>remove(c.id)} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}